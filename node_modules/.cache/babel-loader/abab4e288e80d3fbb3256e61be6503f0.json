{"ast":null,"code":"import _slicedToArray from\"D:\\\\medium clone\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Card}from\"react-bootstrap\";import\"./SinglePost.css\";import ThumbUpIcon from\"@material-ui/icons/ThumbUp\";import ThumbDownAltIcon from\"@material-ui/icons/ThumbDownAlt\";import{app}from\"../firebase\";var db=app.firestore();function SinglePost(_ref){var title=_ref.title,id=_ref.id,content=_ref.content,lastUpdated=_ref.lastUpdated,imageUrl=_ref.imageUrl,likesCount=_ref.likesCount;var _useState=useState(likesCount),_useState2=_slicedToArray(_useState,2),likes=_useState2[0],setLikes=_useState2[1];useEffect(function(){var ref=db.collection(\"posts\").doc(id);ref.update({likesCount:likes});},[likes]);return/*#__PURE__*/React.createElement(Card,{className:\"singlePost\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/post/\"+id,style:{color:'inherit',textDecoration:'none'}},/*#__PURE__*/React.createElement(Card.Img,{variant:\"top\",src:imageUrl}),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,title),/*#__PURE__*/React.createElement(Card.Text,null,content),/*#__PURE__*/React.createElement(\"small\",{className:\"text-muted\"},\"Last updated \",lastUpdated))),/*#__PURE__*/React.createElement(Card.Footer,{className:\"postFooter\"},/*#__PURE__*/React.createElement(ThumbUpIcon,{onClick:function onClick(){return setLikes(likes+1);}}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},likes),/*#__PURE__*/React.createElement(ThumbDownAltIcon,{onClick:function onClick(){return setLikes(likes-1);}})));}export default SinglePost;","map":{"version":3,"sources":["D:/medium clone/src/components/SinglePost.jsx"],"names":["React","useState","useEffect","Card","ThumbUpIcon","ThumbDownAltIcon","app","db","firestore","SinglePost","title","id","content","lastUpdated","imageUrl","likesCount","likes","setLikes","ref","collection","doc","update","color","textDecoration"],"mappings":"sGAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAASC,IAAT,KAAqB,iBAArB,CACA,MAAO,kBAAP,CAEA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CAIA,OAASC,GAAT,KAAoB,aAApB,CAEA,GAAMC,CAAAA,EAAE,CAAGD,GAAG,CAACE,SAAJ,EAAX,CAEA,QAASC,CAAAA,UAAT,MAAwE,IAAnDC,CAAAA,KAAmD,MAAnDA,KAAmD,CAA7CC,EAA6C,MAA7CA,EAA6C,CAA1CC,OAA0C,MAA1CA,OAA0C,CAAlCC,WAAkC,MAAlCA,WAAkC,CAAtBC,QAAsB,MAAtBA,QAAsB,CAAbC,UAAa,MAAbA,UAAa,eAC5Cd,QAAQ,CAACc,UAAD,CADoC,wCAC/DC,KAD+D,eACxDC,QADwD,eAEtEf,SAAS,CAAC,UAAI,CACZ,GAAMgB,CAAAA,GAAG,CAAEX,EAAE,CAACY,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BT,EAA3B,CAAX,CACAO,GAAG,CAACG,MAAJ,CAAW,CAACN,UAAU,CAACC,KAAZ,CAAX,EACD,CAHQ,CAGP,CAACA,KAAD,CAHO,CAAT,CAIA,mBACE,oBAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,eACE,yBAAG,IAAI,CAAE,SAAUL,EAAnB,CAAyB,KAAK,CAAE,CAACW,KAAK,CAAC,SAAP,CAAiBC,cAAc,CAAC,MAAhC,CAAhC,eACA,oBAAC,IAAD,CAAM,GAAN,EACE,OAAO,CAAC,KADV,CAEE,GAAG,CAAET,QAFP,EADA,cAKA,oBAAC,IAAD,CAAM,IAAN,mBACJ,oBAAC,IAAD,CAAM,KAAN,MAAaJ,KAAb,CADI,cAEE,oBAAC,IAAD,CAAM,IAAN,MACEE,OADF,CAFF,cAKJ,6BAAO,SAAS,CAAC,YAAjB,kBAA4CC,WAA5C,CALI,CALA,CADF,cAcE,oBAAC,IAAD,CAAM,MAAN,EAAa,SAAS,CAAC,YAAvB,eACE,oBAAC,WAAD,EAAa,OAAO,CAAE,yBAAMI,CAAAA,QAAQ,CAACD,KAAK,CAAG,CAAT,CAAd,EAAtB,EADF,cAEE,6BAAO,OAAO,CAAC,EAAf,EAAmBA,KAAnB,CAFF,cAGE,oBAAC,gBAAD,EAAkB,OAAO,CAAE,yBAAMC,CAAAA,QAAQ,CAACD,KAAK,CAAG,CAAT,CAAd,EAA3B,EAHF,CAdF,CADF,CAsBD,CAED,cAAeP,CAAAA,UAAf","sourcesContent":["import React, { useState,useEffect} from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport \"./SinglePost.css\";\n\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport ThumbDownAltIcon from \"@material-ui/icons/ThumbDownAlt\";\n\n\n\nimport { app } from \"../firebase\";\n\nconst db = app.firestore();\n\nfunction SinglePost({title,id,content,lastUpdated,imageUrl,likesCount}) {\n  const [likes, setLikes] = useState(likesCount);\n  useEffect(()=>{\n    const ref =db.collection(\"posts\").doc(id);\n    ref.update({likesCount:likes})\n  },[likes])\n  return (\n    <Card className=\"singlePost\" >\n      <a href={\"/post/\"+ id }  style={{color:'inherit',textDecoration:'none'}}>\n      <Card.Img\n        variant=\"top\"\n        src={imageUrl}\n      />\n      <Card.Body>\n  <Card.Title>{title}</Card.Title>\n        <Card.Text>\n         {content}\n        </Card.Text>\n  <small className=\"text-muted\">Last updated {lastUpdated}</small>\n      </Card.Body>\n      </a>\n      <Card.Footer className=\"postFooter\">\n        <ThumbUpIcon onClick={() => setLikes(likes + 1)} />\n        <label htmlFor=\"\">{likes}</label>\n        <ThumbDownAltIcon onClick={() => setLikes(likes - 1)} />\n      </Card.Footer>\n    </Card>\n  );\n}\n\nexport default SinglePost;\n"]},"metadata":{},"sourceType":"module"}