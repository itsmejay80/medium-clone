{"ast":null,"code":"import _objectSpread from\"D:\\\\medium clone\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\medium clone\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import SinglePost from\"./SinglePost.jsx\";import\"./Feeds.css\";import{app}from\"../firebase\";import{AuthContext}from\"../Auth\";var db=app.firestore();function Feeds(){var _useContext=useContext(AuthContext),userName=_useContext.userName,userEmail=_useContext.userEmail;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];useEffect(function(){db.collection(\"posts\").onSnapshot(function(snapshot){var data=snapshot.docs.map(function(doc){return _objectSpread({id:doc.id},doc.data());});setPosts(data);});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"feeds\"},userName?/*#__PURE__*/React.createElement(\"h3\",null,\"Welcome \",userName):null,/*#__PURE__*/React.createElement(\"ul\",null,posts.map(function(post){return/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(SinglePost,{key:post.id,id:post.id,title:post.title,content:post.content,imageUrl:post.imageUrl,likesCount:post.likesCount}));})));}export default Feeds;","map":{"version":3,"sources":["D:/medium clone/src/components/Feeds.jsx"],"names":["React","useState","useEffect","useContext","SinglePost","app","AuthContext","db","firestore","Feeds","userName","userEmail","posts","setPosts","collection","onSnapshot","snapshot","data","docs","map","doc","id","post","title","content","imageUrl","likesCount"],"mappings":"2MAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,MAAO,aAAP,CACA,OAASC,GAAT,KAAoB,aAApB,CAEA,OAASC,WAAT,KAA4B,SAA5B,CAEA,GAAMC,CAAAA,EAAE,CAAGF,GAAG,CAACG,SAAJ,EAAX,CAEA,QAASC,CAAAA,KAAT,EAAiB,iBACiBN,UAAU,CAACG,WAAD,CAD3B,CACPI,QADO,aACPA,QADO,CACGC,SADH,aACGA,SADH,eAEWV,QAAQ,CAAC,EAAD,CAFnB,wCAERW,KAFQ,eAEDC,QAFC,eAIfX,SAAS,CAAC,UAAM,CACdK,EAAE,CAACO,UAAH,CAAc,OAAd,EAAuBC,UAAvB,CAAkC,SAACC,QAAD,CAAc,CAC9C,GAAMC,CAAAA,IAAI,CAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,wBAC7BC,EAAE,CAAED,GAAG,CAACC,EADqB,EAE1BD,GAAG,CAACH,IAAJ,EAF0B,GAAlB,CAAb,CAIAJ,QAAQ,CAACI,IAAD,CAAR,CACD,CAND,EAOD,CARQ,CAQN,EARM,CAAT,CAUA,mBACE,2BAAK,SAAS,CAAC,OAAf,EACGP,QAAQ,cAAG,yCAAaA,QAAb,CAAH,CAAiC,IAD5C,cAGE,8BACGE,KAAK,CAACO,GAAN,CAAU,SAACG,IAAD,qBACT,2CACE,oBAAC,UAAD,EACE,GAAG,CAAEA,IAAI,CAACD,EADZ,CAEE,EAAE,CAAEC,IAAI,CAACD,EAFX,CAGE,KAAK,CAAEC,IAAI,CAACC,KAHd,CAIE,OAAO,CAAED,IAAI,CAACE,OAJhB,CAKE,QAAQ,CAAEF,IAAI,CAACG,QALjB,CAME,UAAU,CAAEH,IAAI,CAACI,UANnB,EADF,CADS,EAAV,CADH,CAHF,CADF,CAoBD,CAED,cAAejB,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport SinglePost from \"./SinglePost.jsx\";\nimport \"./Feeds.css\";\nimport { app } from \"../firebase\";\n\nimport { AuthContext } from \"../Auth\";\n\nconst db = app.firestore();\n\nfunction Feeds() {\n  const { userName, userEmail } = useContext(AuthContext);\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    db.collection(\"posts\").onSnapshot((snapshot) => {\n      const data = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setPosts(data);\n    });\n  }, []);\n\n  return (\n    <div className=\"feeds\">\n      {userName ? <h3>Welcome {userName}</h3> : null}\n\n      <ul>\n        {posts.map((post) => (\n          <li>\n            <SinglePost\n              key={post.id}\n              id={post.id}\n              title={post.title}\n              content={post.content}\n              imageUrl={post.imageUrl}\n              likesCount={post.likesCount}\n            />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Feeds;\n"]},"metadata":{},"sourceType":"module"}