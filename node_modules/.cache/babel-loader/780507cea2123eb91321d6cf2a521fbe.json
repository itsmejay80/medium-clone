{"ast":null,"code":"var _jsxFileName = \"/mnt/d/medium clone/src/components/Post.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport { app } from \"../firebase\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport ThumbDownAltIcon from \"@material-ui/icons/ThumbDownAlt\";\nimport '../components/Post.css';\nconst db = app.firestore();\n\nconst Post = () => {\n  let {\n    id\n  } = useParams();\n  let [post, setPost] = useState(\"\");\n  const [postlikes, setPostLikes] = useState(\"\");\n  useEffect(() => {\n    db.collection('posts').doc(id).get().then(doc => {\n      post = doc.data();\n      setPost(post);\n    });\n  }, []);\n  useEffect(() => {\n    const ref = db.collection(\"posts\").doc(id);\n    ref.update({\n      likesCount: postlikes\n    });\n    console.log('Updated Likes');\n  }, [post.likesCount]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, post.title), /*#__PURE__*/React.createElement(\"img\", {\n    src: post.imageUrl,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, post.content), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"postFooter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ThumbUpIcon, {\n    onClick: () => {\n      post.likesCount = post.likesCount - 1;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, \" \", post.likesCount, \" \"), /*#__PURE__*/React.createElement(ThumbDownAltIcon, {\n    onClick: () => {\n      post.likesCount = post.likesCount - 1; // setPostLikes(postlikes - 1)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Post;","map":{"version":3,"sources":["/mnt/d/medium clone/src/components/Post.jsx"],"names":["React","useState","useEffect","useParams","app","ThumbUpIcon","ThumbDownAltIcon","db","firestore","Post","id","post","setPost","postlikes","setPostLikes","collection","doc","get","then","data","ref","update","likesCount","console","log","title","imageUrl","content"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAASC,GAAT,QAAoB,aAApB;AAEA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AAGA,OAAO,wBAAP;AAGA,MAAMC,EAAE,GAAGH,GAAG,CAACI,SAAJ,EAAX;;AAEA,MAAOC,IAAI,GAAC,MAAK;AACb,MAAI;AAAEC,IAAAA;AAAF,MAASP,SAAS,EAAtB;AACA,MAAI,CAACQ,IAAD,EAAMC,OAAN,IAAeX,QAAQ,CAAC,EAAD,CAA3B;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,EAAD,CAA1C;AAEAC,EAAAA,SAAS,CAAE,MAAI;AACXK,IAAAA,EAAE,CAACQ,UAAH,CAAc,OAAd,EACCC,GADD,CACKN,EADL,EAECO,GAFD,GAGCC,IAHD,CAGMF,GAAG,IAAE;AACPL,MAAAA,IAAI,GAACK,GAAG,CAACG,IAAJ,EAAL;AACAP,MAAAA,OAAO,CAACD,IAAD,CAAP;AACH,KAND;AAOP,GARY,EAQX,EARW,CAAT;AASAT,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMkB,GAAG,GAAEb,EAAE,CAACQ,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BN,EAA3B,CAAX;AACAU,IAAAA,GAAG,CAACC,MAAJ,CAAW;AAACC,MAAAA,UAAU,EAAET;AAAb,KAAX;AACAU,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH,GAJQ,EAIP,CAACb,IAAI,CAACW,UAAN,CAJO,CAAT;AAKA,sBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAI,IAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuBX,IAAI,CAACc,KAA5B,CADJ,eAEI;AAAK,IAAA,GAAG,EAAEd,IAAI,CAACe,QAAf;AAAyB,IAAA,GAAG,EAAC,EAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAII;AAAG,IAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBf,IAAI,CAACgB,OAA7B,CAJJ,eAKI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAE,MAAM;AACxBhB,MAAAA,IAAI,CAACW,UAAL,GAAiBX,IAAI,CAACW,UAAL,GAAiB,CAAlC;AACC,KAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAUX,IAAI,CAACW,UAAf,MAJJ,eAKI,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAG,MAAM;AAC9BX,MAAAA,IAAI,CAACW,UAAL,GAAiBX,IAAI,CAACW,UAAL,GAAiB,CAAlC,CAD8B,CAE9B;AACC,KAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CALJ,CADJ;AAkBH,CArCD;;AAuCA,eAAeb,IAAf","sourcesContent":["import React, { useState,useEffect } from 'react'\nimport {useParams} from \"react-router-dom\";\nimport { app } from \"../firebase\";\n\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport ThumbDownAltIcon from \"@material-ui/icons/ThumbDownAlt\";\n\n\nimport '../components/Post.css'\n\n\nconst db = app.firestore();\n\nconst  Post=()=> {\n    let { id } = useParams();\n    let [post,setPost]=useState(\"\")\n    const [postlikes, setPostLikes] = useState(\"\");\n    \n    useEffect( ()=>{\n        db.collection('posts')\n        .doc(id)\n        .get()\n        .then(doc=>{\n            post=doc.data()\n            setPost(post)\n        })\n},[])\n    useEffect(()=>{\n        const ref =db.collection(\"posts\").doc(id);\n        ref.update({likesCount: postlikes})\n        console.log('Updated Likes')\n    },[post.likesCount])\n    return(\n        <div className=\"container\" >\n            <h1 className=\"title\">{post.title}</h1>\n            <img src={post.imageUrl} alt=\"\"/>\n            <br/>\n            <p className=\"content\">{post.content}</p>\n            <div className=\"postFooter\">\n                <ThumbUpIcon onClick={() => {\n                    post.likesCount =post.likesCount -1\n                    }} />\n                <label > {post.likesCount} </label>\n                <ThumbDownAltIcon onClick={ () => {\n                    post.likesCount =post.likesCount -1\n                    // setPostLikes(postlikes - 1)\n                    }} />\n            </div>\n        </div>\n    )\n}\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}