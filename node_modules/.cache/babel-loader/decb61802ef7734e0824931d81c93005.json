{"ast":null,"code":"import _slicedToArray from\"D:\\\\medium clone\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams}from\"react-router-dom\";import{app}from\"../firebase\";import ThumbUpIcon from\"@material-ui/icons/ThumbUp\";import ThumbDownAltIcon from\"@material-ui/icons/ThumbDownAlt\";import'../components/Post.css';var db=app.firestore();var Post=function Post(){var _useParams=useParams(),id=_useParams.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),postlikes=_useState4[0],setPostLikes=_useState4[1];var likesValue;useEffect(function(){db.collection('posts').doc(id).get().then(function(doc){post=doc.data();setPost(post);setPostLikes(post.likesCount);});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"title\"},post.title),/*#__PURE__*/React.createElement(\"img\",{src:post.imageUrl,className:\"image\",alt:\"\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"p\",{className:\"content\"},post.content),/*#__PURE__*/React.createElement(\"div\",{className:\"postFooter\"},/*#__PURE__*/React.createElement(ThumbUpIcon,{onClick:function onClick(){post.likesCount=post.likesCount+1;setPostLikes(post.likesCount);var ref=db.collection(\"posts\").doc(id);ref.update({likesCount:post.likesCount});}}),/*#__PURE__*/React.createElement(\"label\",null,\" \",postlikes,\" \"),/*#__PURE__*/React.createElement(ThumbDownAltIcon,{onClick:function onClick(){post.likesCount=post.likesCount-1;setPostLikes(post.likesCount);var ref=db.collection(\"posts\").doc(id);ref.update({likesCount:post.likesCount});}})));};export default Post;","map":{"version":3,"sources":["D:/medium clone/src/components/Post.jsx"],"names":["React","useState","useEffect","useParams","app","ThumbUpIcon","ThumbDownAltIcon","db","firestore","Post","id","post","setPost","postlikes","setPostLikes","likesValue","collection","doc","get","then","data","likesCount","title","imageUrl","content","ref","update"],"mappings":"sGAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,OAASC,GAAT,KAAoB,aAApB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CAGA,MAAO,wBAAP,CAGA,GAAMC,CAAAA,EAAE,CAAGH,GAAG,CAACI,SAAJ,EAAX,CAEA,GAAOC,CAAAA,IAAI,CAAC,QAALA,CAAAA,IAAK,EAAK,gBACAN,SAAS,EADT,CACPO,EADO,YACPA,EADO,eAEMT,QAAQ,CAAC,EAAD,CAFd,wCAERU,IAFQ,eAEHC,OAFG,8BAGqBX,QAAQ,CAAC,EAAD,CAH7B,yCAGNY,SAHM,eAGKC,YAHL,eAId,GAAIC,CAAAA,UAAJ,CACCb,SAAS,CAAE,UAAI,CACXK,EAAE,CAACS,UAAH,CAAc,OAAd,EACCC,GADD,CACKP,EADL,EAECQ,GAFD,GAGCC,IAHD,CAGM,SAAAF,GAAG,CAAE,CACPN,IAAI,CAACM,GAAG,CAACG,IAAJ,EAAL,CACAR,OAAO,CAACD,IAAD,CAAP,CACAG,YAAY,CAACH,IAAI,CAACU,UAAN,CAAZ,CACH,CAPD,EAQP,CATY,CASX,EATW,CAAT,CAWA,mBACI,2BAAK,SAAS,CAAC,WAAf,eACI,0BAAI,SAAS,CAAC,OAAd,EAAuBV,IAAI,CAACW,KAA5B,CADJ,cAEI,2BAAK,GAAG,CAAEX,IAAI,CAACY,QAAf,CAAyB,SAAS,CAAC,OAAnC,CAA2C,GAAG,CAAC,EAA/C,EAFJ,cAGI,8BAHJ,cAII,yBAAG,SAAS,CAAC,SAAb,EAAwBZ,IAAI,CAACa,OAA7B,CAJJ,cAKI,2BAAK,SAAS,CAAC,YAAf,eACI,oBAAC,WAAD,EAAa,OAAO,CAAE,kBAAM,CACxBb,IAAI,CAACU,UAAL,CAAiBV,IAAI,CAACU,UAAL,CAAiB,CAAlC,CACAP,YAAY,CAACH,IAAI,CAACU,UAAN,CAAZ,CACA,GAAMI,CAAAA,GAAG,CAAElB,EAAE,CAACS,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BP,EAA3B,CAAX,CACAe,GAAG,CAACC,MAAJ,CAAW,CAACL,UAAU,CAAEV,IAAI,CAACU,UAAlB,CAAX,EACC,CALL,EADJ,cAOI,qCAAUR,SAAV,KAPJ,cAQI,oBAAC,gBAAD,EAAkB,OAAO,CAAG,kBAAM,CAC9BF,IAAI,CAACU,UAAL,CAAiBV,IAAI,CAACU,UAAL,CAAiB,CAAlC,CACAP,YAAY,CAACH,IAAI,CAACU,UAAN,CAAZ,CACA,GAAMI,CAAAA,GAAG,CAAElB,EAAE,CAACS,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BP,EAA3B,CAAX,CACAe,GAAG,CAACC,MAAJ,CAAW,CAACL,UAAU,CAAEV,IAAI,CAACU,UAAlB,CAAX,EACC,CALL,EARJ,CALJ,CADJ,CAuBH,CAvCD,CAyCA,cAAeZ,CAAAA,IAAf","sourcesContent":["import React, { useState,useEffect } from 'react'\nimport {useParams} from \"react-router-dom\";\nimport { app } from \"../firebase\";\n\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport ThumbDownAltIcon from \"@material-ui/icons/ThumbDownAlt\";\n\n\nimport '../components/Post.css'\n\n\nconst db = app.firestore();\n\nconst  Post=()=> {\n    let { id } = useParams();\n    let [post,setPost]=useState(\"\")\n    const [postlikes, setPostLikes] = useState(\"\");\n   let likesValue\n    useEffect( ()=>{\n        db.collection('posts')\n        .doc(id)\n        .get()\n        .then(doc=>{\n            post=doc.data()\n            setPost(post)\n            setPostLikes(post.likesCount)\n        })\n},[])\n    \n    return(\n        <div className=\"container\" >\n            <h1 className=\"title\">{post.title}</h1>\n            <img src={post.imageUrl} className=\"image\" alt=\"\"/>\n            <br/>\n            <p className=\"content\">{post.content}</p>\n            <div className=\"postFooter\">\n                <ThumbUpIcon onClick={() => {\n                    post.likesCount =post.likesCount +1;\n                    setPostLikes(post.likesCount)\n                    const ref =db.collection(\"posts\").doc(id);\n                    ref.update({likesCount: post.likesCount});\n                    }} />\n                <label > {postlikes} </label>\n                <ThumbDownAltIcon onClick={ () => {\n                    post.likesCount =post.likesCount -1;\n                    setPostLikes(post.likesCount)\n                    const ref =db.collection(\"posts\").doc(id);\n                    ref.update({likesCount: post.likesCount});\n                    }} />\n            </div>\n        </div>\n    )\n}\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}