{"version":3,"sources":["firebase.js","Auth.js","components/SignIn.jsx","components/Navbar.jsx","components/SinglePost.jsx","components/Feeds.jsx","components/NewPost.jsx","components/Post.jsx","components/yourStoriesList.jsx","PrivateRoute.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","AuthContext","React","createContext","AuthProvider","children","useState","authuser","setAuthUser","userName","setUserName","userEmail","setUserEmail","useEffect","auth","onAuthStateChanged","user","email","displayName","Provider","value","SignIn","useContext","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccess","window","location","href","firebaseAuth","NavBar","buttonTag","Navbar","bg","variant","Brand","Nav","className","Link","Button","style","marginRight","onClick","signOut","Dropdown","Toggle","Menu","Item","db","firestore","SinglePost","title","id","content","lastUpdated","imageUrl","likesCount","likes","setLikes","collection","doc","update","Card","color","textDecoration","Img","src","Body","Title","Text","Footer","htmlFor","Feeds","posts","setPosts","onSnapshot","snapshot","data","docs","map","post","key","NewPost","fileUrl","setFileUrl","setTitle","setContent","onFileChange","e","a","file","target","files","storageRef","storage","ref","fileRef","child","name","put","getDownloadURL","savePost","emailId","add","type","onChange","action","alt","TextareaAutosize","placeholder","Alert","Post","useParams","setPost","postlikes","setPostLikes","get","then","YourStories","where","querySnapshot","console","log","PrivateRoute","RouteComponent","component","rest","render","routeProps","to","App","path","exact","disPost","yourStories","ReactDOM","document","getElementById"],"mappings":"sTAGaA,G,OAAKC,IAASC,cAAc,CACvCC,OAAQ,0CACRC,WAAY,qCACZC,YAAa,4CACbC,UAAW,qBACXC,cAAe,iCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,kBCNJC,EAAaC,IAAMC,gBAEnBC,EAAc,SAAC,GAAiB,IAAfC,EAAc,EAAdA,SAAc,EACXC,mBAAS,MADE,mBACjCC,EADiC,KACxBC,EADwB,OAEXF,qBAFW,mBAEjCG,EAFiC,KAExBC,EAFwB,OAGTJ,qBAHS,mBAGjCK,EAHiC,KAGvBC,EAHuB,OAIbN,oBAAS,GAJI,6BActC,OARAO,qBAAU,WACRtB,IAASuB,OAAOC,oBAAmB,SAAAC,GACjCR,EAAYQ,GACZJ,EAAaI,EAAKC,OAClBP,EAAYM,EAAKE,kBAEnB,IAGE,kBAACjB,EAAYkB,SAAb,CAAsBC,MAAO,CAACb,WAASC,cAAYC,WAASE,cACvDN,ICUAgB,EA1BA,WAAO,IACbd,EAAUe,qBAAWrB,GAArBM,SACDgB,EAAS,CACbC,WAAW,QACXC,cAAc,CACZlC,IAASuB,KAAKY,mBAAmBC,aAEnCC,UAAU,CACRC,cAAe,kBAAM,KAIzB,OACE,6BACGtB,EACCuB,OAAOC,SAASC,KAAO,IAExB,kBAAC,IAAD,CACCT,SAAUA,EACVU,aAAc1C,IAASuB,WC0BhBoB,G,OApCA,WAAO,IAAD,EACUZ,qBAAWrB,GAAjCM,EADY,EACZA,SAASC,EADG,EACHA,YACZ2B,EAAW5B,EAAW,UAAY,UAEtC,OAAS,6BACP,kBAAC6B,EAAA,EAAD,CAASC,GAAG,QAAQC,QAAQ,SAC1B,kBAACF,EAAA,EAAOG,MAAR,CAAcP,KAAK,KAAnB,gBACA,kBAACQ,EAAA,EAAD,CAAKC,UAAU,WACb,kBAACD,EAAA,EAAIE,KAAL,CAAUV,KAAK,KAAf,QACA,kBAACQ,EAAA,EAAIE,KAAL,CAAUV,KAAK,aAAf,WACA,kBAACQ,EAAA,EAAIE,KAAL,CAAUV,KAAK,YAAf,WAGF,kBAACW,EAAA,EAAD,CAAQC,MAAO,CAACC,YAAa,QAASC,QAAS,WAC1CvC,GACDhB,IAASuB,OAAOiC,UAChBvC,EAAY,MAGZsB,OAAOC,SAASC,KAAO,WAExBM,QAAS/B,EAAW,SAAU,WAAY4B,GAC7C,kBAACa,EAAA,EAAD,KACE,kBAACA,EAAA,EAASC,OAAV,MAGF,kBAACD,EAAA,EAASE,KAAV,KACA,kBAACF,EAAA,EAASG,KAAV,CAAenB,KAAK,gBAApB,gBACA,kBAACgB,EAAA,EAASG,KAAV,CAAenB,KAAK,YAApB,mB,iECjCAoB,EAAK9D,EAAI+D,YAgCAC,MA9Bf,YAAyE,IAApDC,EAAmD,EAAnDA,MAAMC,EAA6C,EAA7CA,GAAGC,EAA0C,EAA1CA,QAAQC,EAAkC,EAAlCA,YAAYC,EAAsB,EAAtBA,SAASC,EAAa,EAAbA,WAAa,EAC5CtD,mBAASsD,GADmC,mBAC/DC,EAD+D,KACxDC,EADwD,KAMtE,OAJAjD,qBAAU,WACGuC,EAAGW,WAAW,SAASC,IAAIR,GAClCS,OAAO,CAACL,WAAWC,MACvB,CAACA,IAED,kBAACK,EAAA,EAAD,CAAMzB,UAAU,cACd,uBAAGT,KAAM,SAAUwB,EAAMZ,MAAO,CAACuB,MAAM,UAAUC,eAAe,SAChE,kBAACF,EAAA,EAAKG,IAAN,CACE/B,QAAQ,MACRgC,IAAKX,IAEP,kBAACO,EAAA,EAAKK,KAAN,KACJ,kBAACL,EAAA,EAAKM,MAAN,KAAajB,GACP,kBAACW,EAAA,EAAKO,KAAN,KACEhB,GAER,2BAAOhB,UAAU,cAAjB,gBAA4CiB,KAGxC,kBAACQ,EAAA,EAAKQ,OAAN,CAAajC,UAAU,cACrB,kBAAC,IAAD,CAAaK,QAAS,kBAAMgB,EAASD,EAAQ,MAC7C,2BAAOc,QAAQ,IAAId,GACnB,kBAAC,IAAD,CAAkBf,QAAS,kBAAMgB,EAASD,EAAQ,SC9BpDT,G,OAAK9D,EAAI+D,aAsCAuB,MApCf,WAAkB,IAAD,EACiBtD,qBAAWrB,GAAnCQ,EADO,EACPA,SADO,KACGE,UACQL,mBAAS,KAFpB,mBAERuE,EAFQ,KAEDC,EAFC,KAcf,OAVAjE,qBAAU,WACRuC,EAAGW,WAAW,SAASgB,YAAW,SAACC,GACjC,IAAMC,EAAOD,EAASE,KAAKC,KAAI,SAACnB,GAAD,oBAC7BR,GAAIQ,EAAIR,IACLQ,EAAIiB,WAETH,EAASG,QAEV,IAGD,yBAAKxC,UAAU,SACZhC,EAAW,uCAAaA,GAAiB,KAE1C,4BACGoE,EAAMM,KAAI,SAACC,GAAD,OACT,4BACE,kBAAC,EAAD,CACEC,IAAKD,EAAK5B,GACVA,GAAI4B,EAAK5B,GACTD,MAAO6B,EAAK7B,MACZE,QAAS2B,EAAK3B,QACdE,SAAUyB,EAAKzB,SACfC,WAAYwB,EAAKxB,oB,iEC5BzBR,EAAK9D,EAAI+D,YAuEAiC,EArEC,WAAO,IAAD,EACgBhE,qBAAWrB,GAAxCM,EADa,EACbA,SAASE,EADI,EACJA,SAASE,EADL,EACKA,UADL,EAEUL,mBAAS,IAFnB,mBAEbiF,EAFa,KAEJC,EAFI,OAGGlF,mBAAS,IAHZ,mBAGbiD,EAHa,KAGPkC,EAHO,OAIOnF,mBAAS,IAJhB,mBAIbmD,EAJa,KAILiC,EAJK,KAOdC,EAAY,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,6DACbC,EAAOF,EAAEG,OAAOC,MAAM,GACtBC,EAAa3G,EAAI4G,UAAUC,MAC3BC,EAAUH,EAAWI,MAAMP,EAAKQ,MAHnB,SAIbF,EAAQG,IAAIT,GAJC,mBAKnBN,EALmB,SAKFY,EAAQI,iBALN,8EAAH,sDAQZC,EAAQ,uCAAI,WAAMb,GAAN,eAAAC,EAAA,sEACE,CAChBtC,MAAMA,EACNE,QAAQA,EACRG,WAAW,EACXD,SAAS4B,EACTe,KAAK7F,EACLiG,QAAQ/F,GAPM,cACXsE,EADW,gBASV7B,EAAGW,WAAW,SAAS4C,IAAI1B,GATjB,uBAUVO,EAAW,IAVD,2CAAJ,sDAYd,OACE,6BAGgB,IAAZjF,EACJ,yBAAKkC,UAAU,aACb,2BAAOmE,KAAK,OAAOC,SAAUlB,IAC7B,0BAAQmB,OAAO,KACf,yBAAKxC,IAAKiB,EAASwB,IAAI,KACvB,0BAAMD,OAAO,IACX,kBAACE,EAAA,EAAD,CAAkB5F,MAAOmC,EAAOsD,SAAU,SAACjB,GAAKH,EAASG,EAAEG,OAAO3E,QAASqB,UAAU,QAAQwE,YAAY,UACzG,6BACA,6BACA,kBAACD,EAAA,EAAD,CACE5F,MAAOqC,EACPoD,SAAU,SAACjB,GAAKF,EAAWE,EAAEG,OAAO3E,QACpCqB,UAAU,UACVwE,YAAY,wBAGhB,6BACA,6BAEc,KAAZ1G,EAAmB,kBAAC,IAAD,CAAQqG,KAAK,SAAStE,QAAQ,YAAYQ,QAAS2D,GAAnD,QAEjB,kBAACS,EAAA,EAAD,CAAO5E,QAAS,UAAhB,yBAOAR,OAAOC,SAASC,KAAO,Y,QC1D3BoB,G,QAAK9D,EAAI+D,aA2CA8D,EAzCH,WAAM,IACR3D,EAAO4D,cAAP5D,GADO,EAEMlD,mBAAS,IAFf,mBAER8E,EAFQ,KAEHiC,EAFG,OAGqB/G,mBAAS,IAH9B,mBAGNgH,EAHM,KAGKC,EAHL,KAgBb,OAXA1G,qBAAW,WACPuC,EAAGW,WAAW,SACbC,IAAIR,GACJgE,MACAC,MAAK,SAAAzD,GACFoB,EAAKpB,EAAIiB,OACToC,EAAQjC,GACRmC,EAAanC,EAAKxB,iBAE5B,IAGM,yBAAKnB,UAAU,aACX,wBAAIA,UAAU,SAAS2C,EAAK7B,OAC5B,yBAAKe,IAAKc,EAAKzB,SAAUlB,UAAU,QAAQsE,IAAI,KAC/C,6BACA,uBAAGtE,UAAU,WAAW2C,EAAK3B,SAC7B,yBAAKhB,UAAU,cACX,kBAAC,IAAD,CAAaK,QAAS,WAClBsC,EAAKxB,WAAYwB,EAAKxB,WAAY,EAClC2D,EAAanC,EAAKxB,YACPR,EAAGW,WAAW,SAASC,IAAIR,GAClCS,OAAO,CAACL,WAAYwB,EAAKxB,gBAEjC,mCAAU0D,EAAV,KACA,kBAAC,IAAD,CAAkBxE,QAAU,WACxBsC,EAAKxB,WAAYwB,EAAKxB,WAAY,EAClC2D,EAAanC,EAAKxB,YACPR,EAAGW,WAAW,SAASC,IAAIR,GAClCS,OAAO,CAACL,WAAYwB,EAAKxB,mBCvC3CR,EAAK9D,EAAI+D,YAuCAqE,EArCK,WAAO,IAAD,EACcpG,qBAAWrB,GAAjCQ,GADQ,EACjBF,SADiB,EACRE,UAASE,EADD,EACCA,UADD,EAEDL,mBAAS,IAFR,mBAEjBuE,EAFiB,KAEXC,EAFW,KAsBtB,OAhBFjE,qBAAW,WACNF,GAAayC,EAAGW,WAAW,SAC3B4D,MAAM,UAAU,KAAKhH,GACrB6G,MACAC,MAAM,SAACG,GACN,IAAM3C,EAAK2C,EAAc1C,KAAKC,KAAI,SAACnB,GAAD,oBAChCR,GAAIQ,EAAIR,IACLQ,EAAIiB,WAETH,EAASG,QAGb,CAACtE,IACHkH,QAAQC,IAAIjD,GAIR,yBAAKpC,UAAU,SACf,uCAAahC,GACX,4BACGoE,EAAMM,KAAI,SAAAC,GAAI,OACf,4BACA,kBAAC,EAAD,CAAYC,IAAKD,EAAK5B,GAAIA,GAAI4B,EAAK5B,GAAID,MAAO6B,EAAK7B,MAAOE,QAAS2B,EAAK3B,QAASE,SAAUyB,EAAKzB,SAAUC,WAAYwB,EAAKxB,oB,iBCjBtHmE,EAjBM,SAAC,GAA0C,IAA9BC,EAA6B,EAAxCC,UAA8BC,EAAU,+BACjC5G,qBAAWrB,GAArBQ,GAD2C,EACpDF,SADoD,EAC3CE,UAEhB,OADAoH,QAAQC,IAAI,uBAAuBrH,GAE/B,kBAAC,IAAD,iBACMyH,EADN,CAEEC,OAAQ,SAAAC,GAAU,MACJ,KAAZ3H,EACE,kBAACuH,EAAmBI,GAEpB,kBAAC,IAAD,CAAUC,GAAI,iBCebC,MAlBf,WAEE,OACE,kBAAC,EAAD,KACA,kBAAC,IAAD,KACI,kBAAC,EAAD,MAEA,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACP,UAAWrD,IACjC,kBAAC,IAAD,CAAO2D,KAAK,YAAYN,UAAaQ,IACrC,kBAAC,EAAD,CAAcF,KAAK,WAAWC,OAAK,EAAEP,UAAW3C,IAChD,kBAAC,IAAD,CAAOiD,KAAK,UAAUC,OAAK,EAACP,UAAW5G,IACvC,kBAAC,EAAD,CAAckH,KAAK,eAAeC,OAAK,EAACP,UAAYS,OClB5DC,IAASR,OAAO,kBAAC,EAAD,MAASS,SAASC,eAAe,U","file":"static/js/main.7d135b0e.chunk.js","sourcesContent":["import firebase from \"firebase\";\nimport 'firebase/storage'\n\nexport const app =firebase.initializeApp({\n  apiKey: \"AIzaSyBYRNUi68WQDQ-xNzZDZsLVsQfEogtcqWo\",\n  authDomain: \"medium-clone-e47d2.firebaseapp.com\",\n  databaseURL: \"https://medium-clone-e47d2.firebaseio.com\",\n  projectId: \"medium-clone-e47d2\",\n  storageBucket: \"medium-clone-e47d2.appspot.com\",\n  messagingSenderId: \"870472339397\",\n  appId: \"1:870472339397:web:b042750e17729e8d39c5ac\",\n  measurementId: \"G-H8Q5EE09NQ\"\n});","import React,{useEffect,useState,useContext} from \"react\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport {app} from './firebase'\nimport firebase from 'firebase'\n\nexport const AuthContext =React.createContext();\n\nexport const AuthProvider =( {children} ) =>{\n    const [authuser,setAuthUser]=useState(null)\n    const [userName,setUserName]=useState()\n    const [userEmail,setUserEmail]=useState()\n    const [signedIn,setsignIn]=useState(false)\n    let isLogged=false\n      useEffect(()=>{\n        firebase.auth().onAuthStateChanged(user =>{\n          setAuthUser(user)\n          setUserEmail(user.email)\n          setUserName(user.displayName)\n        })\n      },[])\n      \n      return (\n          <AuthContext.Provider value={{authuser,setAuthUser,userName,userEmail}} >\n              {children}\n          </AuthContext.Provider>\n      );\n};","import React,{useEffect,useState,useContext} from \"react\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\n\nimport firebase from 'firebase'\nimport {AuthContext} from \"../Auth\";\n\n\nconst SignIn = () => {\n  const {authuser}=useContext(AuthContext)\n  const uiConfig={\n    signInFlow:\"popup\",\n    signInOptions:[\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID\n    ],\n    callbacks:{\n      signInSuccess :() => false\n    }\n  }\n  \n  return (  \n    <div>\n      {authuser ?\n        window.location.href = \"/\"\n      : \n      (<StyledFirebaseAuth \n        uiConfig={uiConfig}\n        firebaseAuth={firebase.auth()}\n      />)}\n     \n    </div>\n  )\n}\n \nexport default SignIn;\n","import {\n  Nav,\n  Navbar,\n  FormControl,\n  Button,\n  Form,\n  Dropdown,\n  DropdownButton,\n} from \"react-bootstrap\";\nimport React,{useContext,useState} from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap/dist/js/bootstrap.min.js\";\nimport SignIn from './SignIn';\nimport {AuthContext} from \"../Auth\";\nimport firebase from 'firebase'\nimport { auth } from \"firebase-admin\";\nconst NavBar = () => {\n  const {authuser,setAuthUser}=useContext(AuthContext) \n  let buttonTag= authuser ? \"Log Out\" : \"Sign In\"\n   \n  return ( <div>\n    <Navbar  bg=\"light\" variant=\"light\">\n      <Navbar.Brand href=\"/\">Medium Clone</Navbar.Brand>\n      <Nav className=\"mr-auto\">\n        <Nav.Link href=\"/\">Home</Nav.Link>\n        <Nav.Link href=\"#features\">Popular</Nav.Link>\n        <Nav.Link href=\"#pricing\">Latest</Nav.Link>\n      </Nav>\n      \n      <Button style={{marginRight: '15px'}} onClick={()=>{\n        if(authuser){\n          firebase.auth().signOut()\n          setAuthUser(' ')\n        }\n        else{\n          window.location.href = \"/signIn\";\n        }\n      }} variant={authuser ? \"danger\" :\"Warning\"}>{buttonTag}</Button>\n      <Dropdown>\n        <Dropdown.Toggle>\n           \n        </Dropdown.Toggle>\n      <Dropdown.Menu>\n      <Dropdown.Item href=\"/yourStories\">Your Stories</Dropdown.Item>\n      <Dropdown.Item href=\"/addPost\">New Story</Dropdown.Item>\n      </Dropdown.Menu>\n      </Dropdown>\n    \n    </Navbar>\n  </div> );\n}\n \nexport default NavBar;\n\n\n","import React, { useState,useEffect} from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport \"./SinglePost.css\";\n\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport ThumbDownAltIcon from \"@material-ui/icons/ThumbDownAlt\";\n\n\n\nimport { app } from \"../firebase\";\n\nconst db = app.firestore();\n\nfunction SinglePost({title,id,content,lastUpdated,imageUrl,likesCount}) {\n  const [likes, setLikes] = useState(likesCount);\n  useEffect(()=>{\n    const ref =db.collection(\"posts\").doc(id);\n    ref.update({likesCount:likes})\n  },[likes])\n  return (\n    <Card className=\"singlePost\" >\n      <a href={\"/post/\"+ id }  style={{color:'inherit',textDecoration:'none'}}>\n      <Card.Img\n        variant=\"top\"\n        src={imageUrl}\n      />\n      <Card.Body>\n  <Card.Title>{title}</Card.Title>\n        <Card.Text>\n         {content}\n        </Card.Text>\n  <small className=\"text-muted\">Last updated {lastUpdated}</small>\n      </Card.Body>\n      </a>\n      <Card.Footer className=\"postFooter\">\n        <ThumbUpIcon onClick={() => setLikes(likes + 1)} />\n        <label htmlFor=\"\">{likes}</label>\n        <ThumbDownAltIcon onClick={() => setLikes(likes - 1)} />\n      </Card.Footer>\n    </Card>\n  );\n}\n\nexport default SinglePost;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport SinglePost from \"./SinglePost.jsx\";\nimport \"./Feeds.css\";\nimport { app } from \"../firebase\";\n\nimport { AuthContext } from \"../Auth\";\n\nconst db = app.firestore();\n\nfunction Feeds() {\n  const { userName, userEmail } = useContext(AuthContext);\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    db.collection(\"posts\").onSnapshot((snapshot) => {\n      const data = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setPosts(data);\n    });\n  }, []);\n\n  return (\n    <div className=\"feeds\">\n      {userName ? <h3>Welcome {userName}</h3> : null}\n\n      <ul>\n        {posts.map((post) => (\n          <li>\n            <SinglePost\n              key={post.id}\n              id={post.id}\n              title={post.title}\n              content={post.content}\n              imageUrl={post.imageUrl}\n              likesCount={post.likesCount}\n            />\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Feeds;\n","import React, { useState,useContext } from \"react\";\r\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\r\nimport Button from '@material-ui/core/Button';\r\nimport \"./NewPost.css\";\r\nimport { app } from \"../firebase\";\r\nimport {AuthContext} from \"../Auth\";\r\nimport Alert from 'react-bootstrap/Alert'\r\n\r\nconst db = app.firestore();\r\n\r\nconst NewPost = () => {\r\n  const {authuser,userName,userEmail}=useContext(AuthContext)\r\n  const [fileUrl, setFileUrl] = useState(\"\");\r\n  const [title,setTitle]=useState(\"\")\r\n  const [content,setContent]=useState(\"\")\r\n\r\n  \r\n  const onFileChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    const storageRef = app.storage().ref();\r\n    const fileRef = storageRef.child(file.name);\r\n    await fileRef.put(file);\r\n    setFileUrl(await fileRef.getDownloadURL());\r\n  };\r\n\r\n  const savePost =  async(e) =>{\r\n    let  data = await {\r\n      title:title,\r\n      content:content,\r\n      likesCount:0,\r\n      imageUrl:fileUrl,\r\n      name:userName,\r\n      emailId:userEmail\r\n    }\r\n    await db.collection(\"posts\").add(data)\r\n    await setFileUrl(\"\")\r\n  }\r\n  return ( \r\n    <div>\r\n\r\n      {\r\n        authuser != '' ? (\r\n    <div className=\"container\">\r\n      <input type=\"file\" onChange={onFileChange} />\r\n      <form   action=\"/\" >   \r\n      <img src={fileUrl} alt=\"\"/>\r\n      <form action=\"\">\r\n        <TextareaAutosize value={title} onChange={(e)=>{setTitle(e.target.value)}} className=\"title\" placeholder=\"Title\" />\r\n        <br />\r\n        <br />\r\n        <TextareaAutosize\r\n          value={content}\r\n          onChange={(e)=>{setContent(e.target.value)}}\r\n          className=\"content\"\r\n          placeholder=\"Tell your story...\"\r\n        />\r\n      </form>\r\n      <br/>\r\n      <br/>\r\n      {\r\n        authuser != ' ' ? (<Button type='submit' variant=\"contained\" onClick={savePost} >Post</Button>\r\n        ) :\r\n        ( <Alert variant =\"danger\"> Please Sign In!!! </Alert> )\r\n      }\r\n      \r\n      </form>\r\n    </div>\r\n        )\r\n        : (\r\n          window.location.href = \"/signIn\"\r\n        )\r\n\r\n      }\r\n</div>\r\n\r\n  );\r\n};\r\n\r\n\r\nexport default NewPost;\r\n","import React, { useState,useEffect } from 'react'\nimport {useParams} from \"react-router-dom\";\nimport { app } from \"../firebase\";\n\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\nimport ThumbDownAltIcon from \"@material-ui/icons/ThumbDownAlt\";\n\n\nimport '../components/Post.css'\n\n\nconst db = app.firestore();\n\nconst  Post=()=> {\n    let { id } = useParams();\n    let [post,setPost]=useState(\"\")\n    const [postlikes, setPostLikes] = useState(\"\");\n   let likesValue\n    useEffect( ()=>{\n        db.collection('posts')\n        .doc(id)\n        .get()\n        .then(doc=>{\n            post=doc.data()\n            setPost(post)\n            setPostLikes(post.likesCount)\n        })\n},[])\n    \n    return(\n        <div className=\"container\" >\n            <h1 className=\"title\">{post.title}</h1>\n            <img src={post.imageUrl} className=\"image\" alt=\"\"/>\n            <br/>\n            <p className=\"content\">{post.content}</p>\n            <div className=\"postFooter\">\n                <ThumbUpIcon onClick={() => {\n                    post.likesCount =post.likesCount +1;\n                    setPostLikes(post.likesCount)\n                    const ref =db.collection(\"posts\").doc(id);\n                    ref.update({likesCount: post.likesCount});\n                    }} />\n                <label > {postlikes} </label>\n                <ThumbDownAltIcon onClick={ () => {\n                    post.likesCount =post.likesCount -1;\n                    setPostLikes(post.likesCount)\n                    const ref =db.collection(\"posts\").doc(id);\n                    ref.update({likesCount: post.likesCount});\n                    }} />\n            </div>\n        </div>\n    )\n}\n\nexport default Post;","import React, { useState,useEffect,useContext } from \"react\";\nimport \"./Feeds.css\";\nimport { app } from \"../firebase\";\nimport SinglePost from \"./SinglePost.jsx\";\n\n\nimport {AuthContext} from \"../Auth\";\n\nconst db = app.firestore();\n\nconst YourStories = () => {\n  const {authuser,userName,userEmail} = useContext(AuthContext)\n  const [posts,setPosts]=useState([ ])\n  \n\n \n  useEffect( ()=>{\n       userEmail && db.collection('posts')\n      .where('emailId','==',userEmail)\n      .get()\n      .then( (querySnapshot)=>{\n        const data=querySnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        setPosts(data) \n      }) \n    \n  },[userEmail])\n  console.log(posts)\n  \n\n    return ( \n      <div className=\"feeds\">\n      <h3>Welcome {userName}</h3>\n        <ul>{\n           posts.map(post=>(\n          <li>\n          <SinglePost key={post.id} id={post.id} title={post.title} content={post.content} imageUrl={post.imageUrl} likesCount={post.likesCount}/>\n        </li>\n        ))          \n          }\n        </ul>\n      </div>\n     );\n}\n \nexport default YourStories;","import React,{useContext } from 'react';\nimport { Route, Redirect} from 'react-router-dom';\n\nimport {AuthContext} from \"./Auth\";\nconst PrivateRoute = ({component: RouteComponent, ...rest}) => {\n    const {authuser,userName}=useContext(AuthContext);\n    console.log('From Private Route: ',userName)\n    return (\n        <Route\n          {...rest}\n          render={routeProps =>\n            userName != ' ' ? (\n              <RouteComponent {...routeProps} />\n            ) : (\n              <Redirect to={\"/signIn\"} />\n            )\n          }\n        />\n    );\n};\n\nexport default PrivateRoute;","import React from \"react\";\nimport NavBar from \"./components/Navbar.jsx\";\nimport Feeds from \"./components/Feeds.jsx\";\nimport NewPost from \"./components/NewPost.jsx\";\nimport SignIn from \"./components/SignIn.jsx\";\nimport disPost from \"./components/Post.jsx\";\nimport yourStories from \"./components/yourStoriesList.jsx\"\nimport { BrowserRouter as Router,Switch, Route } from \"react-router-dom\";\nimport { AuthProvider } from './Auth'\nimport PrivateRoute from './PrivateRoute';\n\nfunction App() {\n  \n  return (\n    <AuthProvider>\n    <Router>\n        <NavBar />\n    \n        <Route path=\"/\" exact component={Feeds} />\n        <Route path=\"/post/:id\" component = {disPost} /> \n        <PrivateRoute path=\"/addPost\" exact  component={NewPost} />\n        <Route path=\"/signIn\" exact component={SignIn} />\n        <PrivateRoute path=\"/yourStories\" exact component={ yourStories } />\n        \n    </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}